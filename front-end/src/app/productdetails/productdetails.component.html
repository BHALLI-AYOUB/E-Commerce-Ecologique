<!-- Modèle HTML -->
<div class="eco-product-container">
  <div class="eco-product-details" *ngIf="product; else loading">
    <div class="product-image-container">
      <img [src]="product?.imageUrl" [alt]="product?.name" class="product-image">
      <div class="eco-badge">
        <span class="eco-icon">🌱</span>
        <span class="eco-text">Éco-responsable</span>
      </div>
    </div>

    <div class="product-info">
      <h3 class="product-title">{{product?.name}}</h3>
      <div class="eco-rating">
        <span class="leaf-icon" *ngFor="let i of [1,2,3,4,5]">🍃</span>
      </div>
      <p class="product-description">{{product?.description}}</p>
      
      <div class="product-features">
        <div class="feature">
          <span class="feature-icon">♻️</span>
          <span class="feature-text">Matériaux durables</span>
        </div>
        <div class="feature">
          <span class="feature-icon">🌍</span>
          <span class="feature-text">Carbone neutre</span>
        </div>
        <div class="feature">
          <span class="feature-icon">🌿</span>
          <span class="feature-text">Emballage éco-responsable</span>
        </div>
      </div>

      <div class="price-section">
        <div class="price-tag">${{product.price.toFixed(2)}}</div>
        <div class="eco-savings">Économise 2,4 kg de CO₂</div>
      </div>

      <div class="eco-impact">
        <div class="impact-chart">
          <div class="chart-bar">
            <div class="chart-fill" style="width: 75%"></div>
          </div>
          <div class="chart-label">75 % d'impact environnemental en moins</div>
        </div>
      </div>

      <div class="action-section">
        <ng-container *ngIf="cartItem; else addToCartBtn">
          <div class="quantity-controls">
            <button class="qty-btn decrease" (click)="decrementItem()">
              <span class="btn-icon">-</span>
            </button>
            <span class="quantity">{{cartItem.quantity}}</span>
            <button class="qty-btn increase" (click)="incrementItem()">
              <span class="btn-icon">+</span>
            </button>
          </div>
        </ng-container>

        <ng-template #addToCartBtn>
          <button class="add-to-cart-btn" (click)="addToCart()">
            <span class="cart-icon">🛒</span>
            Ajouter au panier
          </button>
        </ng-template>
      </div>

      <div class="eco-certifications">
        <span class="cert-badge">Certifié Écologique</span>
        <span class="cert-badge">Bio</span>
        <span class="cert-badge">Végétalien</span>
      </div>
    </div>
  </div>

  <ng-template #loading>
    <div class="eco-loading">
      <div class="loading-spinner"></div>
      <p>Chargement des détails du produit durable...</p>
    </div>
  </ng-template>
</div>
