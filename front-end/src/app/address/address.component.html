<div class="eco-address-container">
  <div class="eco-address-card">
    <div class="leaf-decoration left"></div>
    <div class="leaf-decoration right"></div>
    
    <div class="eco-address-header">
      <div class="eco-icon">
        <svg viewBox="0 0 24 24" class="eco-svg">
          <path d="M12,3L1,9L12,15L21,10.09V17H23V9M5,13.18V17.18L12,21L19,17.18V13.18L12,17L5,13.18Z"></path>
        </svg>
      </div>
      <h2 class="eco-title">{{isEditMode ? 'Modifier l’adresse' : 'Ajouter une adresse'}}</h2>
      <p class="eco-subtitle">Veuillez remplir vos informations de livraison</p>
    </div>

    <div class="eco-alert" *ngIf="error">
      <div class="eco-alert-icon">
        <svg viewBox="0 0 24 24" class="eco-svg">
          <path d="M12,2C6.48,2 2,6.48 2,12s4.48,10 10,10 10-4.48 10-10S17.52,2 12,2zm1,15h-2v-2h2v2zm0,-4h-2V7h2v6z"></path>
        </svg>
      </div>
      <p class="eco-alert-text">{{error}}</p>
    </div>

    <form [formGroup]="addressForm" (ngSubmit)="handleSubmit()" class="eco-form">
      <div class="eco-form-row">
        <div class="eco-form-group">
          <label for="street" class="eco-label">Adresse</label>
          <div class="eco-input-wrapper">
            <input id="street" type="text" formControlName="street" class="eco-input" required>
          </div>
        </div>
      </div>

      <div class="eco-form-row">
        <div class="eco-form-group">
          <label for="city" class="eco-label">Ville</label>
          <div class="eco-input-wrapper">
            <input id="city" type="text" formControlName="city" class="eco-input" required>
          </div>
        </div>
      </div>

      <div class="eco-form-row eco-form-row-split">
        <div class="eco-form-group">
          <label for="state" class="eco-label">Région / État</label>
          <div class="eco-input-wrapper">
            <input id="state" type="text" formControlName="state" class="eco-input" required>
          </div>
        </div>

        <div class="eco-form-group">
          <label for="zipCode" class="eco-label">Code postal</label>
          <div class="eco-input-wrapper">
            <input id="zipCode" type="number" formControlName="zipCode" class="eco-input" required>
          </div>
        </div>
      </div>

      <div class="eco-form-row">
        <div class="eco-form-group">
          <label for="country" class="eco-label">Pays</label>
          <div class="eco-input-wrapper">
            <input id="country" type="text" formControlName="country" class="eco-input" required>
          </div>
        </div>
      </div>

      <div class="eco-chart-section">
        <div class="eco-chart-title">Votre empreinte carbone</div>
        <div class="eco-chart-container">
          <div class="eco-chart-bar">
            <div class="eco-chart-fill" style="width:30%"></div>
          </div>
          <div class="eco-chart-labels">
            <span>Faible</span>
            <span>Moyenne</span>
            <span>Élevée</span>
          </div>
          <div class="eco-chart-text">L’expédition écologique réduit votre empreinte carbone</div>
        </div>
      </div>

      <button type="submit" class="eco-button">
        <span class="eco-button-text">{{isEditMode ? 'Mettre à jour' : 'Enregistrer l’adresse'}}</span>
        <span class="eco-button-icon">
          <svg viewBox="0 0 24 24" class="eco-svg">
            <path d="M9,16.17L4.83,12l-1.42,1.41L9,19 21,7l-1.41,-1.41z"></path>
          </svg>
        </span>
      </button>
    </form>
  </div>
</div>
