<div class="eco-cart-container">
    <div class="eco-cart-wrapper">
      <!-- Decorative Elements -->
      <div class="eco-leaf-decor top-left"></div>
      <div class="eco-leaf-decor bottom-right"></div>
      
      <!-- Header Section -->
      <div class="eco-cart-header">
        <div class="eco-cart-icon">
          <svg viewBox="0 0 24 24" class="eco-svg">
            <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
        </div>
        <h1 class="eco-cart-title">My Eco Cart</h1>
        <p class="eco-cart-subtitle">Shop sustainably, live responsibly</p>
      </div>
      
      <!-- Notification Message -->
      <div *ngIf="message" class="eco-notification">
        <div class="eco-notification-icon">
          <svg viewBox="0 0 24 24" class="eco-svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
          </svg>
        </div>
        <p>{{message}}</p>
      </div>
      
      <!-- Empty Cart State -->
      <div *ngIf="cart.length === 0" class="eco-empty-cart">
        <div class="eco-empty-illustration">
          <svg viewBox="0 0 24 24" class="eco-svg-large">
            <path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm9 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
        </div>
        <p class="eco-empty-text">Your eco-friendly cart is empty</p>
        <p class="eco-empty-subtext">Add sustainable products to begin your green journey</p>
      </div>
      
      <!-- Cart Items -->
      <div *ngIf="cart.length > 0" class="eco-cart-content">
        <!-- Environmental Impact Chart -->
        <div class="eco-impact-widget">
          <h3 class="eco-impact-title">Your Environmental Impact</h3>
          <div class="eco-impact-chart">
            <div class="eco-chart-container">
              <div class="eco-chart-metrics">
                <div class="eco-metric">
                  <div class="eco-metric-icon">
                    <svg viewBox="0 0 24 24" class="eco-svg">
                      <path d="M12 22C6.5 22 2 17.5 2 12S6.5 2 12 2s10 4.5 10 10-4.5 10-10 10zm0-18c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm.5 11h-1V7h1v8zm-.5-10c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/>
                    </svg>
                  </div>
                  <div class="eco-metric-info">
                    <span class="eco-metric-value">{{cart.length * 0.5 | number:'1.1-1'}} kg</span>
                    <span class="eco-metric-label">COâ‚‚ Saved</span>
                  </div>
                </div>
                <div class="eco-metric">
                  <div class="eco-metric-icon">
                    <svg viewBox="0 0 24 24" class="eco-svg">
                      <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/>
                    </svg>
                  </div>
                  <div class="eco-metric-info">
                    <span class="eco-metric-value">{{cart.length * 2 | number:'1.0-0'}} L</span>
                    <span class="eco-metric-label">Water Saved</span>
                  </div>
                </div>
                <div class="eco-metric">
                  <div class="eco-metric-icon">
                    <svg viewBox="0 0 24 24" class="eco-svg">
                      <path d="M17 12h2L12 2 5.05 12H7l-3.9 6h6.92v4h3.96v-4H21l-4-6zM6.79 16l3.9-6H8.88l3.13-4.5 3.15 4.5h-1.9l4 6H6.79z"/>
                    </svg>
                  </div>
                  <div class="eco-metric-info">
                    <span class="eco-metric-value">{{cart.length * 10 | number:'1.0-0'}} g</span>
                    <span class="eco-metric-label">Plastic Reduced</span>
                  </div>
                </div>
              </div>
              <div class="eco-impact-progress">
                <div class="eco-progress-label">Carbon Footprint</div>
                <div class="eco-progress-bar">
                  <div class="eco-progress-track">
                    <div class="eco-progress-fill" [style.width.%]="25 + (cart.length * 5)"></div>
                  </div>
                  <div class="eco-progress-markers">
                    <span>Low</span>
                    <span>Medium</span>
                    <span>High</span>
                  </div>
                </div>
              </div>
            </div>
            <p class="eco-impact-message">Shopping with us helps reduce your environmental footprint</p>
          </div>
        </div>
        
        <!-- Cart Items List -->
        <ul class="eco-cart-items">
          <li *ngFor="let item of cart" class="eco-cart-item">
            <div class="eco-item-image">
              <img [src]="item.imageUrl" [alt]="item.name" class="eco-product-image">
              <div class="eco-eco-badge" *ngIf="item.id % 2 === 0">Eco</div>
            </div>
            
            <div class="eco-item-details">
              <div class="eco-item-info">
                <h3 class="eco-item-name">{{item.name}}</h3>
                <p class="eco-item-description">{{item.description}}</p>
                
                <div class="eco-item-meta">
                  <div class="eco-item-badges">
                    <span class="eco-badge" *ngIf="item.id % 3 === 0">Organic</span>
                    <span class="eco-badge" *ngIf="item.id % 2 !== 0">Sustainable</span>
                    <span class="eco-badge" *ngIf="item.id % 4 === 0">Recycled</span>
                  </div>
                  <span class="eco-item-price">${{item.price.toFixed(2)}}</span>
                </div>
              </div>
              
              <div class="eco-item-actions">
                <div class="eco-quantity-controls">
                  <button (click)="decrementItem(item.id)" class="eco-quantity-btn eco-decrement">
                    <svg viewBox="0 0 24 24" class="eco-svg-small">
                      <path d="M19 13H5v-2h14v2z"/>
                    </svg>
                  </button>
                  <span class="eco-quantity-value">{{item.quantity}}</span>
                  <button (click)="incrementItem(item.id)" class="eco-quantity-btn eco-increment">
                    <svg viewBox="0 0 24 24" class="eco-svg-small">
                      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                  </button>
                </div>
                
                <div class="eco-item-subtotal">
                  <span class="eco-subtotal-label">Subtotal:</span>
                  <span class="eco-subtotal-value">${{(item.price * item.quantity).toFixed(2)}}</span>
                </div>
              </div>
            </div>
          </li>
        </ul>
        
        <!-- Cart Summary -->
        <div class="eco-cart-summary">
          <div class="eco-summary-row">
            <span>Subtotal:</span>
            <span>${{totalPrice.toFixed(2)}}</span>
          </div>
          <div class="eco-summary-row">
            <span>Eco Discount:</span>
            <span>-${{(totalPrice * 0.05).toFixed(2)}}</span>
          </div>
          <div class="eco-summary-row eco-summary-total">
            <span>Total:</span>
            <span>${{(totalPrice * 0.95).toFixed(2)}}</span>
          </div>
          
          <div class="eco-cart-actions">
            <button class="eco-btn eco-btn-checkout" (click)="handleCheckOut()">
              <span class="eco-btn-text">Checkout</span>
              <span class="eco-btn-icon">
                <svg viewBox="0 0 24 24" class="eco-svg-small">
                  <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
                </svg>
              </span>
            </button>
            <button class="eco-btn eco-btn-clear" (click)="clearCart()">
              <span class="eco-btn-text">Clear Cart</span>
              <span class="eco-btn-icon">
                <svg viewBox="0 0 24 24" class="eco-svg-small">
                  <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                </svg>
              </span>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Eco Information Footer -->
      <div class="eco-footer" *ngIf="cart.length > 0">
        <div class="eco-footer-content">
          <div class="eco-footer-icon">
            <svg viewBox="0 0 24 24" class="eco-svg">
              <path d="M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.25 1.43-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19C14.5 2.12 13.38 1 12 1S9.5 2.12 9.5 3.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z"/>
            </svg>
          </div>
          <p class="eco-footer-text">
            Your purchases help support sustainable initiatives. We plant a tree for every 5 items purchased.
          </p>
        </div>
      </div>
    </div>
  </div>